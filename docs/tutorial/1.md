## Walkthrough

For this walkthrough, I suggest running on an EC2 instance running Ubuntu 14.04.

We'll actually run everything locally though, using LXC, at first!

Begin by launching screen:
```
screen -DR -S juju
```

Install juju on the machine:

```
sudo apt-get install --yes juju juju-local

juju generate-config
juju switch local

juju bootstrap

juju status
```


Install jxaas (doesn't need to be the same machine, but we're keeping things simple):

```
sudo apt-get install --yes golang
# go get requires some version control clients:
sudo apt-get install --yes git bzr mercurial

git clone https://github.com/jxaas/jxaas.git ~/jxaas
cd ~/jxaas
./build.sh

```

Install the JXaaS CLI client (written in Python)
```
sudo apt-get install --yes python-pip
#pip install requests
#pip install git+https://github.com/jxaas/charm-toolkit.git
sudo pip install git+https://github.com/jxaas/python-client.git
sudo pip install git+https://github.com/jxaas/cli.git
```

Start JXaaS
```
cd ~/jxaas/.build
bin/jxaasd &
```

The first time this is run JXaaS will automatically install some shared Juju services
 (like ElasticSearch); this takes a few minutes to finish.  When it is done it prints "INFO Ready!"

In a new window, or a new screen session, or even in the same window (although if you run them in the same
window, the messages from jxaasd and the CLI client will be interleaved):

```jxaas list-instances mysql```  lists all your MySQL instances; there aren't any yet.

```jxaas create-instance mysql m1``` will create a new MySQL instance; it will now
show as pending in ```jxaas list-instances mysql```


If you now run ```juju status``` you can see that it is actually creating a number of Juju
services to support the MySQL service:

* A MySQL parent service
* A subordinate service which collects metrics, which is related to a shared ElasticSearch instance
* A subordinate service called 'stubclient', which makes the charm think it has a Juju client


After 30 seconds or so, the instance should move to the 'started' state.

```jxaas list-properties mysql m1 db``` will then show you the basic MySQL connection properties.

JXaaS has short-cuts for connecting to instances using the appropriate client.  For MySQL, that means
the MySQL client.  So, first run ```sudo apt-get install --yes mysql-client``` to install the mysql client,
and then you can connect using: ```jxaas connect-instance mysql m1``` 


```jxaas destroy-instance mysql m1``` will terminate the instance









