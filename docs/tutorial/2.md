## 2 - Proxy Charms


Now, let's demonstrate the proxy charm.  This allows you to consume JXaaS services easily
from within Juju.

For now, we'll run everything within one Juju instance.  To fix this properly requires
exposing everything and getting port forwarding working.  (This more or less works, but is
still a work in progress).
   
```
export JXAAS_URL=http://10.0.3.1:8080/xaas
cat > /tmp/config <<EOF
mp2:
  jxaas-url: ${JXAAS_URL}
  jxaas-tenant: tenant1
  jxaas-user: user1
  jxaas-secret: secret1
EOF

juju deploy --config=/tmp/config cs:~justin-fathomdb/trusty/mysql-proxy mp2

juju deploy cs:~justin-fathomdb/trusty/mediawiki wiki2

juju status wiki2
juju status mp2

juju add-relation wiki2:db mp2:db
```

If you want to watch progress:

```
sudo tail -f  /var/log/juju-*-local/all-machines.log 
```